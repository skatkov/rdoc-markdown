# <%= klass.type.capitalize %> <%= display_name(klass) %>
<%= anchor(klass.aref.strip) %>
<%- class_description = describe(klass) -%>
<%- unless class_description.empty? -%>

<%= class_description %>
<%- end -%>

<% klass.each_section do |section, constants, attributes| -%>
<%- section_title = section.title.to_s.strip -%>
<%- unless section_title.empty? -%>

## <%= section_title %>
<%- end -%>
<%- section_description = section_description(section, heading_level_offset: 2) -%>
<%- unless section_description.empty? -%>

<%= section_description %>
<%- end -%>
<%- unless constants.empty? -%>

### Constants
<% constants.sort_by(&:name).each do |const| -%>

#### `<%= const.name %>`
<%= anchor(const.name) %>

<%= describe(const, fallback: "Not documented.", heading_level_offset: 4) %>
<% end -%>
<%- end -%>
<%- unless attributes.empty? -%>

### Attributes
<% attributes.sort_by(&:name).each do |attr| -%>

#### `<%= attr.name %>` [<%= attr.rw %>]
<%= anchor(attr.aref.strip) %>

<%= describe(attr, fallback: "Not documented.", heading_level_offset: 4) %>
<% end -%>
<%- end -%>
<% klass.methods_by_type(section).each do |type, visibilities| -%>
<% visibilities.each do |visibility, methods| -%>
<% next if methods.empty? -%>

### <%= visibility.capitalize %> <%= type.capitalize %> Methods
<% methods.each do |method| -%>

#### `<%= method.name %><%= method_signature(method) %>`
<%= anchor(method.aref) %>

<%= describe(method, fallback: "Not documented.", heading_level_offset: 4) %>
<% end -%>
<% end -%>
<% end -%>
<% end -%>
